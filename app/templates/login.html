<!doctype html>
<html>

   <!--Show error/success messages in screen-->
    <style>
    .alert {
        font-size: 1.25rem !important;
        padding: 0.75rem !important;
        margin-bottom: 0.75rem !important;
        width: 100% !important;
        text-align: right !important;
    }
     </style>
  
  
  <!-- Show error/success messages on the screen -->
  {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
          {% for category, message in messages %}
              {% if category == 'error' %}
                  <div class="alert alert-danger alert-dismissable fade show" role="alert">
                      {{ message }}
                      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>
              {% else %}
                  <div class="alert alert-success alert-dismissable fade show" role="alert">
                      {{ message }}
                      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>
              {% endif %}
          {% endfor %}
      {% endif %}
  {% endwith %}
  
 
<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>התחברות</title>
    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css' rel='stylesheet'>
    <link href='https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css' rel='stylesheet'>
    <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
    <link rel="stylesheet" href="/static/auth-style.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

</head>

<body class="vh-100">
    <div class="container-fluid h-custom">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-md-9 col-lg-6 col-xl-5">
                <img src="https://img.freepik.com/free-vector/forgot-password-concept-illustration_114360-1123.jpg"
                    class="img-fluid" alt="Sample image">
            </div>
            <div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
                <form method="POST">

                    <p class="fst-bold fs-2 text-end">התחברות</p>
                    </br>

                    <!-- Email input -->
                    <div class="form-outline mb-4 text-end">
                        <label class="form-label" for="form3Example3">אימייל</label>
                        <input type="email" id="form3Example3" name='email' aria-describedby="emailHelp"
                            class="form-control form-control-lg text-end" placeholder="הכנס מייל תקין" />
                    </div>

                    <!-- Password input -->
                    <div class="form-outline mb-3 text-end">
                        <label class="form-label" for="form3Example4">סיסמא</label>
                        <div class="input-group">
                            <input type="password" id="form3Example4" name='password' class="form-control form-control-lg text-end"
                                placeholder="הכנס סיסמא" />
                            <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                                <i class="bx bx-show"></i>
                            </button>
                        </div>
                    </div>

                    <div class="d-flex justify-content-between align-items-center">
                        <!-- Checkbox -->
                        <div class="form-check mb-0">
                            <input class="form-check-input me-2" type="checkbox" value="" id="form2Example3" />
                            <label class="form-check-label" for="form2Example3">
                                זכור אותי
                            </label>
                        </div>
                      <!--  <a href="#!" class="text-body">?שכחת סיסמא</a> -->
                      <a href="#forgotPasswordModal" class="text-body" data-bs-toggle="modal" data-bs-target="#forgotPasswordModal">?שכחת סיסמא</a>

                    </div><!-- Forgot Password Modal -->
                    
  <!-- Forgot Password Modal-->
<div class="modal fade" id="forgotPasswordModal" tabindex="-1" role="dialog" aria-labelledby="forgotPasswordModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="forgotPasswordModalLabel" style="text-align: right;">איפוס סיסמא</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form method="POST" action="/reset_password">
            <div class="text-end">
              <label for="resetEmail" class="form-label">כתובת האימייל שלך</label>
              <input type="email" class="form-control" id="resetEmail" name="resetEmail" required>
            </div>
            <div class="text-end">
              <button type="submit" class="btn btn-success">שלח</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div> 
  
  




                   






                    <div class="text-center text-lg-start mt-4 pt-2 ">
                        <button type="submit" class="btn btn-primary btn-lg "
                            style="padding-left: 2.5rem; padding-right: 2.5rem;">התחבר</button>
                        <p class="small fw-bold mt-2 pt-1 mb-0">אין לך משתמש? <a href="/register"
                                class="link-danger">הרשם</a></p>
                    </div>

                </form>
            </div>
        </div>
    </div>

</body>
<script type='text/javascript'
    src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js'></script>
<script>
    $(document).ready(function() {
        $("#togglePassword").click(function() {
            var passwordInput = $("#form3Example4");
            var passwordFieldType = passwordInput.attr("type");

            if (passwordFieldType === "password") {
                passwordInput.attr("type", "text");
                $(this).html('<i class="bx bx-hide"></i>');
            } else {
                passwordInput.attr("type", "password");
                $(this).html('<i class="bx bx-show"></i>');
            }
        });
    });
</script>